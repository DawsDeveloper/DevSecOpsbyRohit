# üê≥ Docker Introduction

Welcome to the **Docker Introduction** guide. This document will help you understand what Docker is, how it works, and why it's a game-changer for modern software development.

---

## üß≠ Table of Contents

1. [What is Docker?](#-what-is-docker)
2. [Containerization vs Virtualization](#-containerization-vs-virtualization)
3. [Advantages of Containerization](#-advantages-of-containerization)
4. [Installing Docker](#-installing-docker)
5. [Understanding Docker Terminologies](#-understanding-docker-terminologies)
   - [Docker Images](#docker-images)
   - [Docker Containers](#docker-containers)
   - [Docker Hosts](#docker-hosts)
   - [Docker Client](#docker-client)
   - [Docker Daemon](#docker-daemon)
   - [Docker Registry](#docker-registry)
6. [Virtualization vs Containerization Diagram](#-visual-comparison-virtualization-vs-containerization)

---

## üìå What is Docker?

**Docker** is an open-source platform that enables containerization ‚Äî packaging applications with their dependencies into isolated units called **containers**. It ensures consistent environments across development, testing, and production.

* Docker is a containerization tool.
* Virtualization -> Fixed hardware allocation
* Process Isolation -> Dependency in OS is removed
* In comparision to the traditional virtualization functionalities of hypervisors, Docker containers eliminate the need for a separate guest operating system for every new virtual machine.
* Docker implements a high-level API to provide lightweight containers that run processes in isolation.
* A docker container enables rapid deployment with minimum run-time requirements. It also ensures better management and simplified portability. This helps developers and operations team in rapid deployment of an application.
  


---

## üÜö Containerization vs Virtualization

| Feature               | Virtualization                              | Containerization                              |
|-----------------------|---------------------------------------------|------------------------------------------------|
| OS Usage              | Full OS per VM                              | Shared OS, isolated environments               |
| Boot Time             | Minutes                                     | Seconds                                        |
| Resource Efficiency   | Heavy (needs full OS per VM)                | Lightweight (shares OS kernel)                |
| Performance Overhead  | High                                         | Low                                            |
| Use Case              | Legacy apps, full isolation                 | Microservices, DevOps, fast deployment         |

---

## ‚úÖ Advantages of Containerization

- **Lightweight** and fast
- **Portable** across different systems
- **Isolated** environments
- Ideal for **CI/CD pipelines**
- Simplifies **deployment** and **scaling**

---

# ‚öôÔ∏è Installing Docker on Azure (Red Hat Linux VM)

This section explains how to install Docker on a **Red Hat Enterprise Linux (RHEL)** virtual machine created in **Microsoft Azure**.

---

## ‚òÅÔ∏è 1. Create a Linux VM on Azure

- Go to [https://portal.azure.com](https://portal.azure.com)
- Navigate to **Virtual Machines** ‚Üí **Create** ‚Üí **Virtual Machine**
- Configure the following:
  - **Image**: Red Hat Enterprise Linux 9 (or latest)
  - **Size**: Standard B1s (or any preferred size)
  - **Authentication type**: SSH public key or password
  - **Inbound ports**: Allow SSH (port 22)
- Click **Review + Create**, then **Create**

---

## üîó 2. Connect to the VM

Use Git Bash, Windows Terminal, or any terminal that supports SSH:

```bash
ssh azureuser@<public-ip-address>
```

---

### üîí 3‚Äì7: Install Docker on the VM

Once connected to the VM via SSH:

### Step 3: Switch to root user
```bah
sudo su -
```

### Step 4: Download Docker installation script
```bash
curl -fsSL https://get.docker.com -o get-docker.sh
```

### Step 5: Execute the script to install Docker
```bash
sh get-docker.sh
```

### Step 6: Check Docker version to verify installation
```bash
docker --version
```

### Step 7: (Optional but Recommended) Enable Docker to start on boot
```bash
systemctl enable docker
systemctl start docker
```

## üìö Understanding Docker Terminologies

Below are the key components and terms commonly used in Docker:

---

### 1. üñºÔ∏è Docker Image

Combinations of binaries/libraries which are necessary for one software application.
A **Docker Image** is a lightweight, standalone, and executable package that includes:
- Source code
- Libraries
- Dependencies
- Configuration files

> Think of it as a **blueprint** for running containers ‚Äî like a snapshot of an application environment.

---

### 2. üì¶ Docker Container

A **Docker Container** is a **running instance** of a Docker image. It‚Äôs isolated, secure, and contains everything needed to run an application.

> If a Docker Image is a class, then a Docker Container is the object created from that class.

---

### 3. üñ•Ô∏è Docker Host

The **Docker Host** is the machine (physical or virtual) where Docker Engine is installed and running. It provides:
- The environment to run Docker containers
- Resources (CPU, memory, network, etc.)

---

### 4. üíª Docker Client

The **Docker Client** is the tool (usually a command-line interface like Git Bash or terminal) used to communicate with the Docker daemon using Docker commands.

> For example:
> ```bash
> docker run nginx
> ```

---

### 5. ‚öôÔ∏è Docker Daemon (`dockerd`)

The **Docker Daemon** is a background process that:
- Manages Docker objects (images, containers, volumes, networks, etc.)
- Listens for Docker API requests from the client
- Creates and manages Docker containers

> It runs as `dockerd` on the Docker Host.

---

### 6. üóÇÔ∏è Docker Registry

A **Docker Registry** is a repository where Docker images are stored and shared.

- Public example: [Docker Hub](https://hub.docker.com)
- Private registries can also be hosted internally

> You can **push** and **pull** images using:
> ```bash
> docker pull nginx
> docker push myrepo/myimage
> ```

---

## ‚úÖ Summary

| Term             | Description                                                |
|------------------|------------------------------------------------------------|
| Docker Image     | Blueprint of an app with all dependencies                  |
| Docker Container | Running instance of a Docker Image                         |
| Docker Host      | System where Docker is installed                           |
| Docker Client    | Interface to send commands to Docker                       |
| Docker Daemon    | Background service managing Docker components              |
| Docker Registry  | Storage and distribution system for Docker images          |

---


# üê≥ Docker Commands ‚Äì Working on Images

A collection of essential Docker (and Podman) commands to manage images, including pull, build, tag, push, and delete operations.

---

## üì• 1. Pulling an Image

#### Download an image from Docker Hub
```bash
docker pull <image_name>
```

## üìÑ 2. Listing Images

#### View all downloaded images
```bash
docker image ls
docker images
```

## ‚ùå 3. Removing an Image

#### Remove a Docker image by name or image ID
```bash
docker image ls
docker images
```

## üì§ 4. Pushing an Image to a Registry

#### Push to Docker Hub
```bash
docker push <image_name>
```
#### Push to a private Nexus registry
```bash
docker push <nexus_ip>:<nexus_docker_port>/Images/<repo_name>:<version>-<build_no>
```

## üè∑Ô∏è 5. Tagging an Image

#### Tag an image for a local registry
```bash
docker tag <image_name> <local_registry_ip>:5000/<image_name>
```
#### Example in shell script
```bash
sh "docker tag ${imageId} ${nexus_ip}:${nexus_podman_port}/ms_images/${gitrepo}:${MS_version}-${bldval}"
```

## üß± 6. Building an Image from a Container

#### Create a new image from a running container
```bash
docker commit <container_name_or_id> <new_image_name>
```

## üõ†Ô∏è 7. Building an Image from a Dockerfile

#### Basic Docker build command
```bash
docker build -t <new_image_name> .
```

#### Example in Jenkins shell
```bash
sh "docker build \
  --build-arg JARNAME=${Microservice}-${MS_version}-${bldval}.jar \
  -f /ocpadmin/ocpadmin/${Microservice}/${gitrepo}-${MS_version}-${bldval}/Dockerfile \
  --no-cache \
  /ocpadmin/ocpadmin/${Microservice}/${gitrepo}-${MS_version}-${bldval}"
```
#### Podman Example: Build + Tag in One Command
```bash
sh "podman build \
  --build-arg JARNAME=${Microservice}-${MS_version}-${bldval}.jar \
  -t ${nexus_ip}:${nexus_podman_port}/ms_images/${gitrepo}:${MS_version}-${bldval} \
  -f /ocpadmin/ocpadmin/${Microservice}/${gitrepo}-${MS_version}-${bldval}/Podmanfile \
  --no-cache \
  /ocpadmin/ocpadmin/${Microservice}/${gitrepo}-${MS_version}-${bldval}"
```

## üîç 8. Searching for an Image

#### Search Docker Hub for images
```bash
docker search <image_name>
```

## üßπ 9. Removing Dangling/Unused Images

#### Remove all unused images, containers, volumes, and networks
```bash
docker system prune -a
```




